{% extends 'layout/_base_layout.twig' %}

{% set subTitle = 'Homepage' %}

{% set query = craft.entries()
  .section('home')
  .with(['featuredContent'])
  .all()
%}

{% block content %}

<div class="h-full">
  <div class="flex flex-col h-screen w-full bg-center bg-cover bg-no-repeat items-center justify-center m-auto" style="background-image: linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0.5)), url({{ entry.coverImage.one().url }});">
      <div class="w-10/12 md:w-3/5">
        <h1 class="text-white text-2xl md:text-4xl text-center font-bold m-auto">{{ entry.title }}</h1>
        <div class="text-white text-center m-auto py-4">{{ entry.richText }}</div>

        <!--Search bar-->
        {% include 'components/_search-bar.twig' %}
        <!--End Search bar-->
        
        </div>
      </div>
      
    {% for featured in query[0].featuredContent %}

      <div class="py-16">
        <div class="flex flex-col w-11/12 h-auto m-auto rounded-2xl py-8" style="background-color: #212121;">
          <h1 class="text-center text-white text-xl md:text-2xl font-bold m-auto pt-16 pb-3">{{ featured.header }}</h1>
          <div class="w-6/12 sm:w-4/12 md:w-3/12 lg:w-2/12 border-2 border-white m-auto"></div>
          <div class="text-center w-11/12 text-white text-sm md:text-lg m-auto py-4">{{ featured.desc }}</div>

          <div class="grid md:grid-cols-3 w-11/12 gap-x-8 gap-y-16 py-12 items-center justify-center md:justify-between m-auto">
            
            {% set games = featured.featuredGames.all() %}

            {% for item in games %}
            
              {% include 'components/_cover.twig' %}
                
            {% endfor %}
            
          </div>
          
          <a class="px-12 py-3 text-xl text-center text-white text-opacity-40 hover:text-opacity-100 font-bold m-auto rounded-full transform hover:scale-110 transition duration-300 focus:outline-none" style="background-color: #414141;" href="{{ base~'games' }}">Lihat lainnya   <i class="las la-angle-double-right"></i></a>
            
        </div>
      </div>

    {% endfor %}

  </div>
  
{% endblock %}